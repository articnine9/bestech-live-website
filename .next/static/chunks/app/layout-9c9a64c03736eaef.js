(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{1108:()=>{},1183:(e,t,a)=>{Promise.resolve().then(a.bind(a,3671))},1376:()=>{},1650:()=>{},2155:()=>{},2231:()=>{},2907:()=>{},3671:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>h});var s=a(5155),l=a(5125);a(4695),a(1108),a(1376),a(7832),a(1650),a(2155),a(2907),a(2231),a(5674),a(3686),a(9849),a(3707),a(7609);var n=a(2115);let i=e=>{let{isLoading:t}=e;return t&&(0,s.jsx)("div",{id:"preloader",children:(0,s.jsx)("div",{id:"loading-center",children:(0,s.jsxs)("div",{className:"loader",children:[(0,s.jsx)("div",{className:"loader-outter"}),(0,s.jsx)("div",{className:"loader-inner"})]})})})};var r=a(2535),o=a(8755),d=a(5695),c=a(5305);function m(){let[e,t]=(0,n.useState)(!1),[a,l]=(0,n.useState)([{from:"bot",text:"Hello! Please provide your name, phone, and email so we can contact you.",time:new Date().toISOString().slice(0,16).replace("T"," ")}]),[i,r]=(0,n.useState)({name:"",phone:"",email:""});(0,n.useEffect)(()=>{if(!sessionStorage.getItem("chatClosed")){let e=setTimeout(()=>t(!0),5e3);return()=>clearTimeout(e)}},[]);let[o,d]=(0,n.useState)(!1),m=async()=>{if(!i.name.trim()||!i.phone.trim()||!i.email.trim())return void alert("Please fill in all fields.");d(!0);let e=new Date().toISOString().slice(0,16).replace("T"," ");try{(await fetch("/api/sendMail",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:i.name,phone:i.phone,email:i.email,time:e})})).ok?(l(t=>[...t,{from:"bot",text:"Thank you! Our team will contact you shortly.",time:e}]),sessionStorage.setItem("chatClosed","true"),setTimeout(()=>t(!1),1500)):alert("Failed to send. Please try again.")}catch(e){alert("Error: Could not reach the server.")}finally{d(!1)}};return(0,s.jsx)("div",{className:"position-fixed bottom-0 end-0 m-3",style:{zIndex:1050,width:"370px",maxWidth:"95%"},children:e&&(0,s.jsxs)("div",{className:"bg-white rounded-4 shadow p-0 border",style:{overflow:"hidden"},children:[(0,s.jsxs)("div",{className:"bg-light d-flex align-items-center p-3 position-relative",children:[(0,s.jsx)("img",{src:"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:"avatar",className:"rounded-circle me-2",style:{width:"40px",height:"40px"}}),(0,s.jsx)("h6",{className:"m-0 fw-bold",children:"Online Consultation"}),(0,s.jsx)("button",{className:"btn-close position-absolute end-0 me-3",onClick:()=>{t(!1),sessionStorage.setItem("chatClosed","true")}})]}),(0,s.jsx)("div",{className:"p-3",style:{maxHeight:"300px",overflowY:"auto"},children:a.map((e,t)=>(0,s.jsx)("div",{className:"mb-3",children:(0,s.jsx)("div",{className:"bg-light px-3 py-2 rounded-pill d-inline-block mt-1",children:e.text})},t))}),(0,s.jsxs)("div",{className:"border-top p-3",children:[(0,s.jsx)("input",{type:"text",className:"form-control mb-2",placeholder:"Your Name",value:i.name,onChange:e=>r({...i,name:e.target.value})}),(0,s.jsx)("input",{type:"tel",className:"form-control mb-2",placeholder:"Your Phone",value:i.phone,onChange:e=>r({...i,phone:e.target.value})}),(0,s.jsx)("input",{type:"email",className:"form-control mb-2",placeholder:"Your Email",value:i.email,onChange:e=>r({...i,email:e.target.value})}),(0,s.jsx)("button",{className:"btn btn-outline-secondary w-100",onClick:m,disabled:o,children:o?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{className:"spinner-border spinner-border-sm me-2",role:"status","aria-hidden":"true"}),"Sending..."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(c.nPs,{})," Submit"]})})]})]})})}function h(e){let{children:t}=e,[a,c]=(0,n.useState)(!1),h=(0,d.usePathname)();return(0,n.useEffect)(()=>{c(!0);let e=setTimeout(()=>{c(!1)},200);return()=>clearTimeout(e)},[h]),(0,s.jsx)("html",{lang:"en",children:(0,s.jsxs)("body",{children:[(0,s.jsx)(l.GoogleTagManager,{gtmId:"GTM-M6PZHR4B"}),(0,s.jsx)(i,{isLoading:a}),!a&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.default,{}),t,(0,s.jsx)(m,{}),(0,s.jsx)(r.default,{})]})]})})}},3686:()=>{},3707:()=>{},4695:()=>{},5674:()=>{},7609:()=>{},7832:()=>{},9849:()=>{}},e=>{e.O(0,[438,197,772,130,111,65,94,359,87,874,795,225,933,441,964,358],()=>e(e.s=1183)),_N_E=e.O()}]);
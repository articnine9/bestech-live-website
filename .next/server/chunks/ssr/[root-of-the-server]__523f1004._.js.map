{"version":3,"sources":["../../../../src/app/products/%5Bslug%5D/%5BproductSlug%5D/ProductDetailsPageClient.js/__nextjs-internal-proxy.mjs","../../../../src/app/products/%5Bslug%5D/%5BproductSlug%5D/page.js"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/products/[slug]/[productSlug]/ProductDetailsPageClient.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/products/[slug]/[productSlug]/ProductDetailsPageClient.js\",\n    \"default\",\n);\n","import { notFound } from \"next/navigation\";\r\nimport fs from \"fs\";\r\nimport path from \"path\";\r\nimport ProductDetailsPageClient from \"./ProductDetailsPageClient\";\r\n\r\nexport async function generateMetadata({ params }) {\r\n  const { slug, productSlug } = params;\r\n\r\n  const filePath = path.join(process.cwd(), \"src\", \"db\", \"products.json\");\r\n  const fileContents = fs.readFileSync(filePath, \"utf-8\");\r\n  const data = JSON.parse(fileContents);\r\n\r\n  const category = data.find((cat) => cat.slug === slug);\r\n\r\n  const product = category?.items?.find((item) => {\r\n    const parts = item.url?.split(\"/\").filter(Boolean);\r\n    const lastSegment = parts?.[parts.length - 1];\r\n    return lastSegment === productSlug;\r\n  });\r\n\r\n  // ❗ If product not found, return default metadata and let Page() handle 404\r\n  if (!product) {\r\n    return {\r\n      title: \"Product Not Found\",\r\n      description: \"The requested product does not exist.\",\r\n      robots: \"noindex, nofollow\",\r\n    };\r\n  }\r\n\r\n  return {\r\n    title: product.meta_title || product.name,\r\n    description: product.meta_description,\r\n    keywords: product.keywords || \"\",\r\n    alternates: {\r\n      canonical: product.canonical,\r\n    },\r\n    robots: product.robots || \"index, follow\",\r\n  };\r\n}\r\n\r\nexport default function Page({ params }) {\r\n  const { slug, productSlug } = params;\r\n\r\n  const filePath = path.join(process.cwd(), \"src\", \"db\", \"products.json\");\r\n  const fileContents = fs.readFileSync(filePath, \"utf-8\");\r\n  const data = JSON.parse(fileContents);\r\n\r\n  const category = data.find((cat) => cat.slug === slug);\r\n\r\n  const product = category?.items?.find((item) => {\r\n    const parts = item.url?.split(\"/\").filter(Boolean);\r\n    const lastSegment = parts?.[parts.length - 1];\r\n    return lastSegment === productSlug;\r\n  });\r\n\r\n  // ❌ Product not found → return 404 page\r\n  if (!product) {\r\n    return notFound();\r\n  }\r\n\r\n  return <ProductDetailsPageClient product={product} />;\r\n}\r\n"],"names":[],"mappings":"6ZAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,mUAAqU,EAClW,kGACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,+SAAiT,EAC9U,8EACA,mICLJ,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OAEO,eAAe,EAAiB,QAAE,CAAM,CAAE,EAC/C,GAAM,MAAE,CAAI,aAAE,CAAW,CAAE,CAAG,EAExB,EAAW,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,MAAO,KAAM,iBAIjD,EAFO,AAEI,KAFC,KAAK,CADF,AACG,EADH,OAAE,CAAC,YAAY,CAAC,EAAU,UAGzB,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAAK,GAE3C,EAAU,GAAU,OAAO,KAAK,AAAC,IACrC,IAAM,EAAQ,EAAK,GAAG,EAAE,MAAM,KAAK,OAAO,SAE1C,OADoB,AACb,GADoB,CAAC,EAAM,MAAM,CAAG,EAAE,GACtB,CACzB,UAGA,AAAK,EAQE,CACL,CATE,KAAU,AASL,EAAQ,UAAU,EAAI,EAAQ,IAAI,CACzC,YAAa,EAAQ,gBAAgB,CACrC,SAAU,EAAQ,QAAQ,EAAI,GAC9B,WAAY,CACV,UAAW,EAAQ,SAAS,AAC9B,EACA,OAAQ,EAAQ,MAAM,EAAI,eAC5B,EAfS,CACL,MAAO,oBACP,YAAa,wCACb,OAAQ,mBACV,CAYJ,CAEe,SAAS,EAAK,QAAE,CAAM,CAAE,EACrC,GAAM,MAAE,CAAI,aAAE,CAAW,CAAE,CAAG,EAExB,EAAW,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,MAAO,KAAM,iBAIjD,EAFO,AAEI,KAFC,KAAK,CADF,AACG,EADH,OAAE,CAAC,YAAY,CAAC,EAAU,UAGzB,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAAK,GAE3C,EAAU,GAAU,OAAO,KAAK,AAAC,IACrC,IAAM,EAAQ,EAAK,GAAG,EAAE,MAAM,KAAK,OAAO,SAE1C,OADoB,AACb,GADoB,CAAC,EAAM,MAAM,CAAG,EAAE,GACtB,CACzB,UAGA,AAAK,EAIE,CAAA,CAJH,CAIG,EAAA,EAJO,CAIP,EAAC,EAAA,OAAwB,CAAA,CAAC,QAAS,IAHjC,CAAA,EAAA,EAAA,QAAA,AAAQ,GAInB","ignoreList":[0]}
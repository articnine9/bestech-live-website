{"version":3,"sources":["../../../../src/app/products/%5Bslug%5D/ProductPageClient.js/__nextjs-internal-proxy.mjs","../../../../src/app/products/%5Bslug%5D/page.js"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/src/app/products/[slug]/ProductPageClient.js from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/src/app/products/[slug]/ProductPageClient.js\",\n    \"default\",\n);\n","import path from \"path\";\r\nimport fs from \"fs\";\r\nimport ProductPageClient from \"./ProductPageClient\";\r\nimport { notFound } from \"next/navigation\";\r\n\r\n// Server-side metadata generation\r\nexport async function generateMetadata({ params }) {\r\n  const filePath = path.join(process.cwd(), \"src/db/products.json\");\r\n  const fileContents = await fs.promises.readFile(filePath, \"utf-8\");\r\n  const data = JSON.parse(fileContents);\r\n\r\n  const found = data.find((cat) => cat.slug === params.slug);\r\n\r\n  if (!found) {\r\n    // Still OK — only metadata fallback\r\n    return {\r\n      title: \"Product Not Found\",\r\n      description: \"The product category you are looking for does not exist.\",\r\n      alternates: { canonical: \"https://www.bestechparts.ae/products\" },\r\n      robots: \"noindex, nofollow\",\r\n      keywords: \"\",\r\n    };\r\n  }\r\n\r\n  const url = `https://www.bestechparts.ae/products/${found.slug}`;\r\n\r\n  return {\r\n    title: found.meta_title || found.page_name,\r\n    description:\r\n      found.meta_description ||\r\n      \"Explore our product category for more information.\",\r\n    alternates: { canonical: found.canonical || url },\r\n    robots: found.robots || \"index, follow\",\r\n    keywords: found.keywords || \"\",\r\n    openGraph: {\r\n      title: found.meta_title || found.page_name,\r\n      description: found.meta_description,\r\n      url,\r\n      siteName: \"Bestech Parts\",\r\n      type: \"website\",\r\n    },\r\n    twitter: {\r\n      card: \"summary_large_image\",\r\n      title: found.meta_title || found.page_name,\r\n      description: found.meta_description,\r\n    },\r\n  };\r\n}\r\n\r\n// ⬇️ Server component\r\nexport default async function Page({ params }) {\r\n  const filePath = path.join(process.cwd(), \"src/db/products.json\");\r\n  const fileContents = await fs.promises.readFile(filePath, \"utf-8\");\r\n  const data = JSON.parse(fileContents);\r\n\r\n  const initialCategory = data.find((cat) => cat.slug === params.slug);\r\n\r\n  // ❌ If not found → show custom 404 page\r\n  if (!initialCategory) {\r\n    return notFound();\r\n  }\r\n\r\n  return <ProductPageClient initialCategory={initialCategory} />;\r\n}\r\n"],"names":[],"mappings":"6ZAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,8SAAgT,EAC7U,6EACA,8DAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,0RAA4R,EACzT,yDACA,mICLJ,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,EAAA,CAAA,CAAA,OACA,EAAA,CAAA,CAAA,OAAA,IAAA,EAAA,EAAA,CAAA,CAAA,OAGO,eAAe,EAAiB,QAAE,CAAM,CAAE,EAC/C,IAAM,EAAW,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,wBAIpC,EAFO,AAEC,KAFI,KAAK,CADF,AACG,MADG,EAAA,OAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAU,UAGvC,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAAK,EAAO,IAAI,EAEzD,GAAI,CAAC,EAEH,KAFU,CAEH,CACL,MAAO,oBACP,YAAa,2DACb,WAAY,CAAE,UAAW,sCAAuC,EAChE,OAAQ,oBACR,SAAU,EACZ,EAGF,IAAM,EAAM,CAAC,qCAAqC,EAAE,EAAM,IAAI,CAAA,CAAE,CAEhE,MAAO,CACL,MAAO,EAAM,UAAU,EAAI,EAAM,SAAS,CAC1C,YACE,EAAM,gBAAgB,EACtB,qDACF,WAAY,CAAE,UAAW,EAAM,SAAS,EAAI,CAAI,EAChD,OAAQ,EAAM,MAAM,EAAI,gBACxB,SAAU,EAAM,QAAQ,EAAI,GAC5B,UAAW,CACT,MAAO,EAAM,UAAU,EAAI,EAAM,SAAS,CAC1C,YAAa,EAAM,gBAAgB,KACnC,EACA,SAAU,gBACV,KAAM,SACR,EACA,QAAS,CACP,KAAM,sBACN,MAAO,EAAM,UAAU,EAAI,EAAM,SAAS,CAC1C,YAAa,EAAM,gBAAgB,AACrC,CACF,CACF,CAGe,eAAe,EAAK,QAAE,CAAM,CAAE,EAC3C,IAAM,EAAW,EAAA,OAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,GAAI,wBAIpC,EAFO,AAEW,KAFN,KAAK,CADF,AACG,MADG,EAAA,OAAE,CAAC,QAAQ,CAAC,QAAQ,CAAC,EAAU,UAG7B,IAAI,CAAC,AAAC,GAAQ,EAAI,IAAI,GAAK,EAAO,IAAI,SAGnE,AAAK,EAIE,CAAA,CAJH,CAIG,EAAA,GAAA,EAAC,EAAA,GAJc,IAIG,CAAA,CAAC,gBAAiB,IAHlC,CAAA,EAAA,EAAA,QAAA,AAAQ,GAInB","ignoreList":[0]}